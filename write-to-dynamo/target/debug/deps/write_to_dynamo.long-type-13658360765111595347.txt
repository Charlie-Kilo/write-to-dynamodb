fn(ImageMetadata, DynamoDbClient, S3Client) -> impl Future<Output = Result<impl Reply, Rejection>> {handle_request}
